
    <div class="container main-content">

        <div class="alert alert-info alert-dismissable" ng-repeat="alert in alerts" type="alert.type">
            <button type="button" ng-click="closeAlert($index)" class="close" data-dismiss="alert" area-hidden="true">&times;</button>
            {{alert.msg}}
        </div>

        <div class="row">
            <div class="col-md-12">
                <a class="pull-right" href="index.html#/about">
                    <span class="glyphicon glyphicon-question-sign"></span> What's this?
                </a>
            </div>
        </div>

        <div class="row">
            <div class="col-md-3">
                <div class="row">
                    <form class="form-inline" role="form">
                        <div class="col-md-4">
                            <select id="filterByDepartment" class="form-control" ng-model="filteredDept" ng-change="filterOptions.searchQuery = ''">
                                <option value="">All</option>
                                <option ng-repeat="dept in departments | orderBy:'shortCode'" value="{{dept.shortCode}}">{{dept.shortCode}}</option>
                            </select>
                        </div>
                        <div class="col-md-8">
                            <input id="filterByDescriptionQuery" class="form-control" ng-model="filterOptions.searchQuery" placeholder="Search">
                        </div>
                    </form>
                </div>
                <!-- example of a course level filter, it's not very good though -->
                <!-- <div class="row" id="courseLevelFilter">
                    <form class="form-inline" role="form">
                        <div class="col-md-12">
                            <small>Course Levels:&nbsp;&nbsp;</small>
                            <span ng-repeat="level in courseLevels">
                                <label class="checkbox checkbox-inline" for="{{level}}">
                                    <input type="checkbox" ng-model="filterOptions.levels[level]" name="group" id="{{level}}"> {{ level }}
                                </label>
                            </span>
                        </div>
                    </form>
                </div> -->

                <br>


                <table id="coursesTable" class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th class="sortable-header" ng-class="sortedClass('dept.title')" ng-click="updateSort('dept.title')">Dept</th>
                            <th class="sortable-header" ng-class="sortedClass('courseId')" ng-click="updateSort('courseId')">ID</th>
                            <th class="sortable-header" ng-class="sortedClass('title')" ng-click="updateSort('title')">Name</th>
                        </tr>
                    </thead>
                    <tbody class="selectable-tbody" ng-class="course == selectedCourse ? 'selected-tbody' : ''" ng-repeat="course in filtered = (courses | filter:basicFilters | filter:searchQueryFilter | filter:courseLevelFilter | filter:departmentFilter | orderBy:sortBy:desc)" ng-click="$parent.selectedCourse = course">
                        <tr>
                            <td class="selectable-td">{{ course.dept.shortCode }}</td>
                            <td class="selectable-td">{{ course.courseId }}</td>
                            <td class="selectable-td">{{ course.title }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-md-5">
                <div class="well">
                    <h4 ng-show="!selectedCourse">Select a course to start planning.</h4>
                    <div ng-show="selectedCourse">
                        <h3><span class="glyphicon glyphicon-list-alt"></span>
                            {{ selectedCourse.dept.shortCode + " " + selectedCourse.courseId}}
                        </h3>
                        <h4>{{ selectedCourse.title }}</h4>
                        <p>{{ selectedCourse.description }}</p>
                        <p>Credit hours: {{ selectedCourse.credits }}</p>
                        <table class="table table-condensed">
                            <thead>
                                <tr>
                                    <th>Section</th>
                                    <th>Instructor</th>
                                    <th>Class Periods</th>
                                    <th>Location</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody ng-show="!selectedCourse.sections || !selectedCourse.sections.length">
                                <tr>
                                    <td colspan="4">No sections offered this semester!</td>
                                </tr>
                            </tbody>
                            <tbody ng-repeat="section in selectedCourse.sections">
                                <tr>
                                    <td>{{ section.sectionId }}</td>
                                    <td>{{ section.professor }}</td>
                                    <td>
                                        {{ classPeriodsToString(section.classPeriods) }}
                                    </td>
                                    <td>{{section.room}} {{ section.buildingAbbreviation }}</td>
                                    <td ng-show="!isPlanned(selectedCourse.dept.shortCode + selectedCourse.courseId + '-' + section.sectionId)">
                                        <a ng-click="addCourseToPlan(selectedCourse, section)" class="btn btn-success btn-xs"><span class="glyphicon glyphicon-plus"></span></a>
                                    </td>
                                    <td ng-show="isPlanned(selectedCourse.dept.shortCode + selectedCourse.courseId + '-' + section.sectionId)">
                                        <div style="height: 22px;"><span class="glyphicon glyphicon-ok btn-xs"></span></div>
                                    <td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="well">
                    <h3>My Planned Classes</h3>
                    <h4>{{currentSemester}}</h4>
                    <p ng-show="!plannedCourses.length">Add some classes you want to take next semester!</p>
                    <table class="table table-condensed">
                        <thead>
                            <tr ng-show="plannedCourses.length">
                                <th>Course</th>
                                <th>Section</th>
                                <th>Instructor</th>
                                <th>Class Periods</th>
                                <th></th>
                            </tr>
                            <tbody ng-repeat="course in plannedCourses">
                                <tr id="plannedCourse-{{$index}}">
                                    <td>{{ course.dept.shortCode }} {{ course.courseId }}</td>
                                    <td>{{ course.sectionId }}</td>
                                    <td>{{ course.instructor }}</td>
                                    <td>{{ classPeriodsToString(course.classPeriods) }}</td>
                                    <td><a ng-click="removeCourseFromPlan(course)" class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-minus"></span></a></td>
                                </tr>
                            </tbody>
                        </thead>
                    </table>
                    <button ng-show="plannedCourses.length" ng-click="viewWeekLayout()" class="btn btn-info" data-toggle="modal" data-target="#weekLayoutModal">
                        <span><span class="glyphicon glyphicon-calendar"></span>  View Week Layout</span>
                    </button>
                    <a ng-show="plannedCourses.length" ng-click="savePlan()" class="btn btn-info" ng-class="{ disabled: saved }">
                        <span ng-show="!saved"><span class="glyphicon glyphicon-floppy-save"></span>  Save Plan</span>
                        <span ng-show="saved"><span class="glyphicon glyphicon-floppy-saved"></span>  Plan saved!</span>
                    </a>
					<a ng-show="plannedCourses.length" ng-click="registerClasses()" class="btn btn-info" ng-class="{ disabled: saved }">
                        <span ng-show="!added"><span class="glyphicon glyphicon-floppy-save"></span>  Register</span>
                        <span ng-show="added"><span class="glyphicon glyphicon-floppy-saved"></span>  Courses Registered!</span>
                    </a>
                </div>
            </div>

        </div>

        <iframe id="registration-iframe"  width="510" height="500" style="display: none"></iframe><br>
        <button onclick="loadRegistrationPage()">Load Registration Page</button>
        <button onclick="clearCaptchaCookies()">Clear Captcha Cookies</button>
        <button onclick="hideIframe()">Hide Iframe</button>

    </div>

    <div class="modal fade" id="weekLayoutModal">
      <div class="modal-dialog" style="width:1000px;">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">Weekly Schedule</h4>
          </div>
          <div class="modal-body">
            <table class="table">
                <thead>
                    <th></th>
                    <th>Monday</th>
                    <th>Tuesday</th>
                    <th>Wednesday</th>
                    <th>Thursday</th>
                    <th>Friday</th>
                </thead>
                <tbody>
                    <tr>
                        <td>7</td>
                        <td></td><td></td><td></td><td></td><td></td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td></td><td></td><td></td><td></td><td></td>
                    </tr>
                    <tr>
                        <td>9</td>
                        <td></td><td></td><td></td><td></td><td></td>
                    </tr>
                    <tr>
                        <td>10</td>
                        <td></td><td></td><td></td><td></td><td></td>
                    </tr>
                    <tr>
                        <td>11</td>
                        <td></td><td></td><td></td><td></td><td></td>
                    </tr>
                    <tr>
                        <td>12</td>
                        <td></td><td></td><td></td><td></td><td></td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td></td><td></td><td></td><td></td><td></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td></td><td></td><td></td><td></td><td></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td></td><td></td><td></td><td></td><td></td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td></td><td></td><td></td><td></td><td></td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td></td><td></td><td></td><td></td><td></td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td></td><td></td><td></td><td></td><td></td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td></td><td></td><td></td><td></td><td></td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td></td><td></td><td></td><td></td><td></td>
                    </tr>
                <tbody>
            </table>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->