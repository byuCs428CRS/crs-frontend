
    <div class="container main-content">

        <div class="alert alert-info alert-dismissable" ng-repeat="alert in alerts" type="alert.type">
            <button type="button" ng-click="closeAlert($index)" class="close" data-dismiss="alert" area-hidden="true">&times;</button>
            {{alert.msg}}
        </div>

        <div class="row">
            <div class="col-md-12">
                <a class="pull-right" href="index.html#/about">
                    <span class="glyphicon glyphicon-question-sign"></span> What's this?
                </a>
            </div>
        </div>

        <div class="row">
            <div class="col-md-4">
                <div class="row">
                    <form class="form-inline" role="form">
                        <div class="col-md-4">
                            <select id="filterByDepartment" class="form-control" ng-model="filteredDept" ng-change="filterOptions.searchQuery = ''">
                                <option value="">All departments</option>
                                <option ng-repeat="dept in departments" value="{{dept.shortCode}}">{{dept.title}}</option>
                            </select>
                        </div>
                        <div class="col-md-8">
                            <input id="filterByDescriptionQuery" class="form-control" ng-model="filterOptions.searchQuery" placeholder="Search">
                        </div>
                    </form>
                </div>
                <!-- example of a course level filter, it's not very good though -->
                <!-- <div class="row" id="courseLevelFilter">
                    <form class="form-inline" role="form">
                        <div class="col-md-12">
                            <small>Course Levels:&nbsp;&nbsp;</small>
                            <span ng-repeat="level in courseLevels">
                                <label class="checkbox checkbox-inline" for="{{level}}">
                                    <input type="checkbox" ng-model="filterOptions.levels[level]" name="group" id="{{level}}"> {{ level }}
                                </label>
                            </span>
                        </div>
                    </form>
                </div> -->

                <br>


                <table id="coursesTable" class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th class="center"><span class="glyphicon glyphicon-sort"></span></th>
                            <th class="sortable-header" ng-class="sortedClass('dept.title')" ng-click="updateSort('dept.title')">Dept</th>
                            <th class="sortable-header" ng-class="sortedClass('courseId')" ng-click="updateSort('courseId')">ID</th>
                            <th class="sortable-header" ng-class="sortedClass('title')" ng-click="updateSort('title')">Name</th>
                        </tr>
                    </thead>
                    <tbody class="selectable-tbody" ng-class="course == selectedCourse ? 'selected-tbody' : ''" ng-repeat="course in filtered = (courses | filter:basicFilters | filter:searchQueryFilter | filter:courseLevelFilter | filter:departmentFilter | orderBy:sortBy:desc)" ng-click="$parent.selectedCourse = course">
                        <tr>
                            <td class="selectable-td center"><span ng-class="course == selectedCourse ? 'glyphicon glyphicon-info-sign' : ''"></span></td>
                            <td class="selectable-td">{{ course.dept.shortCode }}</td>
                            <td class="selectable-td">{{ course.courseId }}</td>
                            <td class="selectable-td">{{ course.title }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-md-4">
                <div class="well">
                    <h4 ng-show="!selectedCourse">Select a course to start planning.</h4>
                    <div ng-show="selectedCourse">
                        <h3>{{ selectedCourse.dept.shortCode + " " + selectedCourse.courseId}}</h3>
                        <h4>{{ selectedCourse.title }}</h4>
                        <p>{{ selectedCourse.description }}</p>
                        <p>Credit hours: {{ selectedCourse.credits }}</p>
                        <table class="table table-condensed">
                            <thead>
                                <tr>
                                    <th>Section</th>
                                    <th>Instructor</th>
                                    <th>Class Periods</th>
                                    <th>Location</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody ng-show="!selectedCourse.sections || !selectedCourse.sections.length">
                                <tr>
                                    <td colspan="4">No sections offered this semester!</td>
                                </tr>
                            </tbody>
                            <tbody ng-repeat="section in selectedCourse.sections">
                                <tr>
                                    <td>{{ section.sectionId }}</td>
                                    <td>{{ section.professor }}</td>
                                    <td>
                                        {{ classPeriodsToString(section.classPeriods) }}
                                    </td>
                                    <td>{{section.room}} {{ section.buildingAbbreviation }}</td>
                                    <td ng-show="!isPlanned(selectedCourse.dept.shortCode + selectedCourse.courseId + '-' + section.sectionId)">
                                        <a ng-click="addCourseToPlan(selectedCourse, section)" class="btn btn-success btn-xs"><span class="glyphicon glyphicon-plus"></span></a>
                                    </td>
                                    <td ng-show="isPlanned(selectedCourse.dept.shortCode + selectedCourse.courseId + '-' + section.sectionId)">
                                        <div style="height: 22px;"><span class="glyphicon glyphicon-ok btn-xs"></span></div>
                                    <td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="well">
                    <h3>My Planned Classes</h3>
                    <h4>{{currentSemester}}</h4>
                    <p ng-show="!plannedCourses.length">Add some classes you want to take next semester!</p>
                    <table class="table table-condensed">
                        <thead>
                            <tr ng-show="plannedCourses.length">
                                <th>Course</th>
                                <th>Section</th>
                                <th>Instructor</th>
                                <th>Class Periods</th>
                                <th></th>
                            </tr>
                            <tbody ng-repeat="course in plannedCourses">
                                <tr>
                                    <td>{{ course.dept.shortCode }} {{ course.courseId }}</td>
                                    <td>{{ course.sectionId }}</td>
                                    <td>{{ course.instructor }}</td>
                                    <td>{{ classPeriodsToString(course.classPeriods) }}</td>
                                    <td><a ng-click="removeCourseFromPlan(course)" class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-minus"></span></a></td>
                                </tr>
                            </tbody>
                        </thead>
                    </table>
                    <a ng-show="plannedCourses.length" ng-click="savePlan()" class="btn btn-info" ng-class="{ disabled: saved }">
                        <span ng-show="!saved"><span class="glyphicon glyphicon-floppy-save"></span>  Save Plan</span>
                        <span ng-show="saved"><span class="glyphicon glyphicon-floppy-saved"></span>  Plan saved!</span>
                    </a>
                </div>
            </div>

        </div>

    </div>